import{_ as N,Y as L,W as S,aq as T,aj as $,H as v,$ as O,a1 as m,ak as b,J as j,K as k,N as w,O as i,s as t,a6 as A,a3 as s,a7 as B,M as W,c as n,R as c,a9 as h,Q as g,T as E,ar as I,aa as U,a4 as D,ag as F,ah as H,G as R,ai as q}from"./_unfonts-DtUc4XXU.js";import{P as G,_ as J}from"./AppMessage-Bpmcsea7.js";import{a as K,b as Q,_ as Y,c as X}from"./CardTitle-C2fo48rR.js";import{V as y}from"./VTextField-C5ZRspUF.js";import"./VDialog-bKjCavjK.js";const Z={class:"text-center"},ee={class:"text-h6 mb-2"},ae={class:"mt-4 mb-6"},se={class:"d-flex align-center mb-3"},te={class:"text-body-2"},ne={class:"d-flex align-center mb-3"},ie={class:"text-body-2"},oe={class:"d-flex align-center"},re={class:"text-body-2"},le={class:"subtitle mb-4"},ce={class:"text-h3"},de={__name:"pairings",setup(f){console.log(`Pairings STARTED: ${window.location.href} HTML ${window.document.title}`),L();const{t:e}=S(),o=T($.get("pairings")||""),r=v(null);O(()=>{o||(console.error("No valid pairings found, please talk to your organizer!",m.value,"error"),r.value&&r.value.showMessage(e("pairings-link-broken"),e("pairings-ask-new-link",{organizer:m.value}),"error"))});const d=v(b.value?.name||""),p=v(b.value?.secretWord||""),_=j(()=>{if(!o)return null;const u=d.value.trim().toLowerCase(),a=p.value.trim();if(!u||!a)return null;const l=Object.entries(o).find(([M,P])=>{const C=M.localeCompare(u,void 0,{sensitivity:"base"})===0,z=P.secretWord.localeCompare(a,void 0,{sensitivity:"base"})===0;return C&&z});return l?l[1].receiver:null});function V(){return o?Object.entries(o).map(([u])=>({name:u})):[]}function x(){if(!o){r.value?.showMessage(e("pairings-link-broken"),e("pairings-ask-new-link",{organizer:m.value}),"error");return}_.value?r.value?.showMessage(e("pairings-your-match",{name:_.value}),"","warning"):Object.keys(o).some(a=>a.toLowerCase()===d.value.trim().toLowerCase())?r.value?.showMessage(e("pairings-try-again"),e("pairings-forget-secret-word"),"error"):r.value?.showMessage(e("pairings-cant-find",{name:d.value}),e("pairings-double-check",{organizer:m.value}),"error")}return(u,a)=>(w(),k(D,null,{default:i(()=>[t(A,null,{default:i(()=>[t(K,{class:"pa-4",fluid:"","max-width":s(B)},{default:i(()=>[t(Q,{class:"transparent-card",elevation:"4"},{default:i(()=>[t(Y,{title:s(e)("pairings-title")},null,8,["title"]),s(o)?(w(),k(X,{key:0},{default:i(()=>[n("div",Z,[n("h3",ee,c(s(e)("pairings-title")),1)]),n("div",ae,[n("div",se,[t(h,{class:"mr-3",color:"warning",size:"24"},{default:i(()=>[...a[3]||(a[3]=[g("mdi-key",-1)])]),_:1}),n("span",te,c(s(e)("pairings-enter-secret-word")),1)]),n("div",ne,[t(h,{class:"mr-3",color:"success",size:"24"},{default:i(()=>[...a[4]||(a[4]=[g("mdi-account-heart",-1)])]),_:1}),n("span",ie,c(s(e)("pairings-see-who-gifting")),1)]),n("div",oe,[t(h,{class:"mr-3",color:"purple",size:"24"},{default:i(()=>[...a[5]||(a[5]=[g("mdi-domino-mask",-1)])]),_:1}),n("span",re,c(s(e)("pairings-keep-secret")),1)])]),n("div",le,c(s(e)("pairings-enter-details")),1),t(y,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=l=>d.value=l),class:"mb-3","data-testid":"lookup-name-input",dense:"",label:s(e)("pairings-your-name"),outlined:"",placeholder:s(e)("pairings-e-g-alice")},null,8,["modelValue","label","placeholder"]),t(y,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=l=>p.value=l),class:"mb-3","data-testid":"lookup-secret-input",dense:"",label:s(e)("pairings-secret-word"),outlined:"",placeholder:s(e)("pairings-your-secret-word"),type:"password"},null,8,["modelValue","label","placeholder"]),t(E,{block:"",color:"primary","data-testid":"lookup-button",disabled:!d.value||!p.value,"prepend-icon":"mdi-eye-outline",onClick:a[2]||(a[2]=l=>x())},{default:i(()=>[g(c(s(e)("pairings-see-my-match")),1)]),_:1},8,["disabled"]),t(G,{class:"mt-4",participants:V(),title:s(e)("pairings-who-is-in")},null,8,["participants","title"])]),_:1})):W("",!0)]),_:1})]),_:1},8,["max-width"]),t(J,{ref_key:"messagePlaceholder",ref:r,variant:"tonal"},I({_:2},[_.value?{name:"icon",fn:i(()=>[n("span",ce,c(s(e)("common-gift-package")),1)]),key:"0"}:void 0]),1536)]),_:1}),t(U)]),_:1}))}},ue=N(de,[["__scopeId","data-v-10888041"]]);async function pe(){const f=F(ue);H(f);const e=R();await q(e);try{typeof document<"u"&&document.documentElement&&(document.documentElement.lang=e)}catch{}f.mount("#app-pairings")}pe();
